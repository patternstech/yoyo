<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ToDo API (v1) – Documentation</title>
<style>
  :root{
    --bg:#0f1226;
    --panel:#171b35;
    --panel-2:#1e2347;
    --text:#e6e9ff;
    --muted:#aab0d4;
    --accent:#7c5cff;
    --accent-2:#12d6df;
    --ok:#22c55e;
    --warn:#f59e0b;
    --err:#ef4444;
    --code-bg:#0b0e23;
    --border:#2a2f58;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
    background: linear-gradient(135deg, #0c0f22, #141942 50%, #0c0f22);
    color:var(--text);
    line-height:1.55;
  }
  header{
    padding:48px 24px 24px;
    text-align:center;
  }
  .badge{
    display:inline-block;
    padding:4px 10px;
    font-size:12px;
    border-radius:999px;
    background:linear-gradient(90deg, var(--accent), var(--accent-2));
    color:#0a0c1b;
    font-weight:700;
    letter-spacing:.4px;
    margin-bottom:12px;
  }
  h1{
    margin:0 0 8px 0;
    font-size:32px;
    letter-spacing:.3px;
  }
  .subtitle{
    color:var(--muted);
    margin-top:0;
  }
  .container{
    margin:0 auto;
    max-width:1000px;
    padding:0 20px 64px;
  }
  .toc, .panel{
    background:linear-gradient(180deg, var(--panel), var(--panel-2));
    border:1px solid var(--border);
    border-radius:16px;
    padding:20px;
    box-shadow: 0 10px 30px rgba(0,0,0,.25);
  }
  .grid{
    display:grid;
    grid-template-columns: 1fr;
    gap:16px;
  }
  @media (min-width: 900px){
    .grid{ grid-template-columns: 320px 1fr; }
  }
  .toc h3{
    margin-top:0;
    font-size:16px;
    color:var(--muted);
    text-transform:uppercase;
    letter-spacing:1px;
  }
  .toc a{
    display:block;
    padding:10px 12px;
    border-radius:12px;
    color:var(--text);
    text-decoration:none;
    border:1px solid transparent;
  }
  .toc a:hover{
    background:rgba(124,92,255,.12);
    border-color:rgba(124,92,255,.35);
  }
  .endpoint{
    border-left:4px solid var(--accent);
    padding-left:16px;
    margin:12px 0 6px;
  }
  .method{
    font-weight:800;
    font-size:12px;
    padding:2px 8px;
    border-radius:999px;
    margin-right:8px;
    text-transform:uppercase;
    letter-spacing:.5px;
    color:#0a0c1b;
  }
  .GET{ background:#60a5fa; }
  .POST{ background:#34d399; }
  .PUT{ background:#f59e0b; }
  .DELETE{ background:#ef4444; }
  .PATCH{ background:#a855f7; }
  .url{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; color:#dbe7ff; }
  .muted{ color:var(--muted); }
  .row{
    display:grid; gap:16px; grid-template-columns:1fr; margin-top:12px;
  }
  @media (min-width: 900px){
    .row{ grid-template-columns:1fr 1fr; }
  }
  .card{
    background: rgba(255,255,255, .02);
    border:1px solid var(--border);
    border-radius:14px;
    padding:14px;
  }
  pre{
    margin:0; overflow:auto; background:var(--code-bg);
    padding:14px; border-radius:12px; border:1px solid var(--border);
  }
  code{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size:13px; }
  .pill{
    display:inline-block; padding:3px 8px; border:1px solid var(--border); border-radius:999px; margin-right:6px; font-size:12px;
    color:var(--muted);
  }
  .kv{ display:grid; grid-template-columns: 180px 1fr; gap:8px; }
  .kv div:nth-child(odd){ color:var(--muted); }
  .footer{
    text-align:center; color:var(--muted); margin-top:32px; font-size:13px;
  }
  .copy-btn{
    float:right;
    font-size:12px;
    border:1px solid var(--border);
    background:transparent;
    color:var(--text);
    padding:4px 8px;
    border-radius:8px;
    cursor:pointer;
  }
  .copy-btn:hover{ background: rgba(124,92,255,.15); }
  .section-title{
    margin-top:0;
    display:flex; align-items:center; gap:10px;
  }
</style>
</head>
<body>
<header>
  <div class="badge">API v1</div>
  <h1>ToDo API</h1>
  <p class="subtitle">Base URL: <code>/api/v1/todo</code></p>
</header>

<div class="container grid">
  <nav class="toc">
    <h3>Contents</h3>
    <a href="#get-todo">GET – List ToDos</a>
    <a href="#post-todo">POST – Create ToDo</a>
    <a href="#patch-toggle">PATCH – Toggle Completion</a>
    <a href="#delete-todo">DELETE – Delete ToDo</a>
  </nav>

  <main class="panel">
    <!-- GET ToDos -->
    <section id="get-todo">
      <div class="endpoint">
        <span class="method GET">GET</span>
        <span class="url">/api/v1/todo?patientId={patientId}</span>
      </div>
      <p>Get all ToDo items for a patient.</p>
      
      <div class="card">
        <h3 class="section-title">Parameters</h3>
        <div class="kv">
          <div>patientId (number, query, required)</div><div>Patient ID to retrieve ToDos for.</div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <h3 class="section-title">Sample Response <button class="copy-btn" data-copy="get-todo-resp">Copy</button></h3>
          <pre><code id="get-todo-resp">[
  {
    "id": 1,
    "patientId": 123,
    "dateCreated": "2025-10-13T14:30:00Z",
    "title": "Take Medicine",
    "detail": "Take blood pressure medication with breakfast",
    "date": "2025-10-14T00:00:00Z",
    "time": "08:00:00",
    "alert": "OnDay",
    "isCompleted": false
  },
  {
    "id": 2,
    "patientId": 123,
    "dateCreated": "2025-10-13T15:00:00Z",
    "title": null,
    "detail": "Call doctor to schedule follow-up appointment",
    "date": null,
    "time": null,
    "alert": null,
    "isCompleted": true
  }
]</code></pre>
        </div>
      </div>

      <div class="kv card" style="margin-top:12px;">
        <div>Success</div><div class="pill">200 OK</div>
        <div>Errors</div><div class="pill">500 Server Error</div>
      </div>
    </section>

    <hr style="border:0; border-top:1px solid var(--border); margin:24px 0;">

    <!-- POST ToDo -->
    <section id="post-todo">
      <div class="endpoint">
        <span class="method POST">POST</span>
        <span class="url">/api/v1/todo</span>
      </div>
      <p>Create a new ToDo item for a patient.</p>

      <div class="card">
        <h3 class="section-title">Body Parameters</h3>
        <div class="kv">
          <div>patientId (number, required)</div><div>Patient identifier who owns this ToDo (min: 1).</div>
          <div>title (string, optional)</div><div>Optional title for the ToDo (max: 250 chars).</div>
          <div>detail (string, required)</div><div>Detailed description of the task (max: 1000 chars).</div>
          <div>date (string, optional)</div><div>Due date for the ToDo (ISO 8601 format).</div>
          <div>time (string, optional)</div><div>Time for the ToDo (HH:MM:SS format).</div>
          <div>alert (string, optional)</div><div>Alert type: "OnDay" or "EveningBefore".</div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <h3 class="section-title">Sample Request <button class="copy-btn" data-copy="post-todo-req">Copy</button></h3>
          <pre><code id="post-todo-req">{
  "patientId": 123,
  "title": "Take Medicine",
  "detail": "Take blood pressure medication with breakfast. Remember to take with food to avoid stomach upset.",
  "date": "2025-10-14T00:00:00Z",
  "time": "08:00:00",
  "alert": "OnDay"
}</code></pre>
        </div>
        <div class="card">
          <h3 class="section-title">Sample Response <button class="copy-btn" data-copy="post-todo-resp">Copy</button></h3>
          <pre><code id="post-todo-resp">{
  "success": true,
  "id": 1,
  "validationErrors": null
}</code></pre>
        </div>
      </div>

      <div class="kv card" style="margin-top:12px;">
        <div>Success</div><div class="pill">200 OK</div>
        <div>Errors</div><div class="pill">400 Bad Request</div>
        <div></div><div class="pill">500 Server Error</div>
      </div>
    </section>

    <hr style="border:0; border-top:1px solid var(--border); margin:24px 0;">

    <!-- PATCH Toggle -->
    <section id="patch-toggle">
      <div class="endpoint">
        <span class="method PATCH">PATCH</span>
        <span class="url">/api/v1/todo/{id}/toggle?patientId={patientId}</span>
      </div>
      <p>Toggle completion status of a ToDo item.</p>

      <div class="card">
        <h3 class="section-title">Parameters</h3>
        <div class="kv">
          <div>id (number, path, required)</div><div>ToDo ID to toggle.</div>
          <div>patientId (number, query, required)</div><div>Patient ID for validation.</div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <h3 class="section-title">Sample Response <button class="copy-btn" data-copy="patch-toggle-resp">Copy</button></h3>
          <pre><code id="patch-toggle-resp">{
  "success": true,
  "id": 1,
  "validationErrors": null
}</code></pre>
        </div>
      </div>

      <div class="kv card" style="margin-top:12px;">
        <div>Success</div><div class="pill">200 OK</div>
        <div>Errors</div><div class="pill">400 Bad Request</div>
        <div></div><div class="pill">404 Not Found</div>
        <div></div><div class="pill">500 Server Error</div>
      </div>
    </section>

    <hr style="border:0; border-top:1px solid var(--border); margin:24px 0;">

    <!-- DELETE ToDo -->
    <section id="delete-todo">
      <div class="endpoint">
        <span class="method DELETE">DELETE</span>
        <span class="url">/api/v1/todo/{id}?patientId={patientId}</span>
      </div>
      <p>Delete a ToDo item.</p>

      <div class="card">
        <h3 class="section-title">Parameters</h3>
        <div class="kv">
          <div>id (number, path, required)</div><div>ToDo ID to delete.</div>
          <div>patientId (number, query, required)</div><div>Patient ID for validation.</div>
        </div>
      </div>

      <div class="row">
        <div class="card">
          <h3 class="section-title">Sample Response <button class="copy-btn" data-copy="delete-todo-resp">Copy</button></h3>
          <pre><code id="delete-todo-resp">{
  "success": true,
  "id": 1,
  "validationErrors": null
}</code></pre>
        </div>
      </div>

      <div class="kv card" style="margin-top:12px;">
        <div>Success</div><div class="pill">200 OK</div>
        <div>Errors</div><div class="pill">400 Bad Request</div>
        <div></div><div class="pill">404 Not Found</div>
        <div></div><div class="pill">500 Server Error</div>
      </div>
    </section>

    <p class="footer">© ToDo API v1 • Cancer Connect Platform</p>
  </main>
</div>

<script>
  document.querySelectorAll('.copy-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const id = btn.getAttribute('data-copy');
      const txt = document.getElementById(id).innerText;
      navigator.clipboard.writeText(txt).then(()=>{
        const old = btn.textContent;
        btn.textContent = 'Copied!';
        setTimeout(()=> btn.textContent = old, 1200);
      });
    });
  });
</script>
</body>
</html>